*********************
Парсинг базы вакансий
*********************

В данном разделе по шагам рассмотрен практический пример парсинга большого xml файла.

:Задача: Необходимо закачать в таблицу БД Postgresql Общероссийскую базу вакансий, сохраненную в формате xml и доступную по адресу 
http://data.gov.ru/opendata/7710538364-vacansii

:Исходные данные: В распакованнном виде файл xml занимает 842,3 Мб.

**Полученные результаты**

* Количество полей таблицы - 19
* Количество записей - 320 479
* Общее время парсинга и закачки данных в таблицу БД Postgresql - 29 мин.

Алгоритм
--------

1. Определяет структуру данных источника xml
В большинстве своем архивные файлы xml имеют не сильно разветвленную структуру и ассоциативные имена тегов. Поэтому анализировать структуру данных в файлах рекомендуется графическим способом.

Поскольку наш файл имеет внушительный размер, очевидно, он собержит много записей одинаковой структуры. Поэтому анализировоть файл целиком для построения структуры данных не имеет смысла. Выполним построение структуры данных на примере первых 1000 элементов
_____

Получили вот такую структуру.

Чтобы Убедиться, что полученная нами структура является полной, повторим построение дерева, увеличив количество тегов до 10000
Как видим, структура не изменилась. Зничит показанное на рисунке дерево полностью отражает структуру данных xml источника.

2. Указываем пути к данным
Теги элементов xml файла имеют как правило информативные имена, поэтому из рисунка легко понять какие данные хранит каждый элемент. Кроме того, по рисунку легко постоить пути для каждого нужного элемента.

мы в примере берем все элементы



